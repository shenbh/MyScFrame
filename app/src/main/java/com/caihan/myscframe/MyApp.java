package com.caihan.myscframe;import android.content.Context;import com.caihan.scframe.framework.ScApplication;import com.caihan.scframe.utils.json.JsonAnalysis;import com.squareup.leakcanary.LeakCanary;import com.squareup.leakcanary.RefWatcher;/** *  * * @author caihan * @date 2018/4/22 * @e-mail 93234929@qq.com * 维护者  */public class MyApp extends ScApplication {    public static final String TAG = "MyScFrame";    private RefWatcher refWatcher;    private static Context sContext;    public static RefWatcher getRefWatcher(Context context) {        MyApp application = (MyApp) context.getApplicationContext();        return application.refWatcher;    }    /**     * 获取ApplicationContext     *     * @return ApplicationContext     */    public static Context getContext() {        if (sContext != null) {            return sContext;        } else {            throw new NullPointerException("u should init first");        }    }    @Override    public void onCreate() {        super.onCreate();        sContext = getApplicationContext();        initLeakCanary();        initLogUtils(true, TAG);        initUtilCodeSpUtils(TAG);        JsonAnalysis.getInstance().setJsonType(JsonAnalysis.PARSER_TYPE_FAST_JSON);    }    private void initLeakCanary() {        if (LeakCanary.isInAnalyzerProcess(this)) {            // This process is dedicated to LeakCanary for heap analysis.            // You should not init your app in this process.            return;        }        refWatcher  = LeakCanary.install(this);    }}